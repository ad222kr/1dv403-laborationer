{"changed":true,"filter":false,"title":"script.js","tooltip":"/1-vandalen/vandalen/script.js","value":"\"use strict\";\n\nvar makePerson = function (persArr) {\n    // Går igenom arrayen och kollar så att elemten är objekt och att objektens egenskaper har rätt värden\n    \n    for (var i = 0; i < persArr.length; i++) {\n        \n        if (typeof (persArr[i]) !== \"object\") {\n        \n            throw new Error(\"Position \" + (i + 1) + \" i arrayen är ej ett objekt\");\n        }\n        if (typeof (persArr[i].name) !== \"string\") {\n        \n            throw new Error (\"Namnet är inte en sträng!\")\n        }\n        if (isNaN(persArr[i].age) && isNaN(Date.parse(persArr[i].born))) {\n        \n            throw new Error(\"Åldern är ej ett heltal\");\n        }\n    }\n\n\n    // Sorterar arrayen på ålder och tilldelar min och maxage\n    persArr.sort(function (a, b) { return a.age - b.age });\n    var minAge = persArr[0].age;\n    var maxAge = persArr[persArr.length - 1].age;\n\n    // Lägger ihop elementen i arrayen och räknar ut medelvärde samt avrundar\n    var averageAge = Math.round(persArr.map(function (person) { return person.age; }).reduce(function (prev, cur) { return prev + cur; }) / persArr.length);\n\n    // Sorterar arrayen på namn (localeCompare ser till att svenska tecken sorteras rätt), plockar ur namnen ur objekten och slår ihop till en sträng\n    persArr.sort(function (a, b) { return a.name.localeCompare(b.name, 'sv') });\n    var names = persArr.map(function (person) { return person.name; }).join(\", \");\n    \n    var result = {\n        minAge: minAge,\n        maxAge: maxAge,\n        averageAge: averageAge,\n        names: names\n    };\n    return result;\n    }\n\n\n","undoManager":{"mark":37,"position":40,"stack":[[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":39,"column":18},"end":{"row":39,"column":19}},"text":" "},{"action":"insertText","range":{"start":{"row":39,"column":18},"end":{"row":40,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":40,"column":0},"end":{"row":40,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":4},"end":{"row":40,"column":5}},"text":"c"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":5},"end":{"row":40,"column":6}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":6},"end":{"row":40,"column":7}},"text":"n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":7},"end":{"row":40,"column":8}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":8},"end":{"row":40,"column":9}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":9},"end":{"row":40,"column":10}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":10},"end":{"row":40,"column":11}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":11},"end":{"row":40,"column":12}},"text":"."}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":12},"end":{"row":40,"column":13}},"text":"l"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":13},"end":{"row":40,"column":14}},"text":"o"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":14},"end":{"row":40,"column":15}},"text":"g"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":15},"end":{"row":40,"column":17}},"text":"()"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":16},"end":{"row":40,"column":17}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":16},"end":{"row":40,"column":17}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":16},"end":{"row":40,"column":17}},"text":"p"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":17},"end":{"row":40,"column":18}},"text":"e"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":18},"end":{"row":40,"column":19}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":19},"end":{"row":40,"column":20}},"text":"s"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":20},"end":{"row":40,"column":21}},"text":"A"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":16},"end":{"row":40,"column":21}},"text":"persA"},{"action":"insertText","range":{"start":{"row":40,"column":16},"end":{"row":40,"column":23}},"text":"persArr"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":24},"end":{"row":40,"column":25}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":4},"end":{"row":40,"column":25}},"text":"console.log(persArr);"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":32,"column":0},"end":{"row":32,"column":21}},"text":"console.log(persArr);"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":32,"column":0},"end":{"row":32,"column":1}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":32,"column":1},"end":{"row":32,"column":2}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":32,"column":2},"end":{"row":32,"column":3}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":32,"column":3},"end":{"row":32,"column":4}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":32,"column":4},"end":{"row":32,"column":25}},"text":"console.log(persArr);"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":3,"column":106},"end":{"row":4,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":4,"column":0},"end":{"row":4,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":4,"column":4},"end":{"row":4,"column":25}},"text":"console.log(persArr);"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":4,"column":4},"end":{"row":4,"column":25}},"text":"console.log(persArr);"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":39,"column":6},"end":{"row":40,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":40,"column":0},"end":{"row":40,"column":4}},"text":"    "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":40,"column":4},"end":{"row":40,"column":25}},"text":"console.log(persArr);"}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":20,"column":0},"end":{"row":21,"column":0}},"nl":"\n","lines":[""]}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":20,"column":0},"end":{"row":21,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":40,"column":0},"end":{"row":40,"column":25}},"text":"    console.log(persArr);"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":39,"column":6},"end":{"row":40,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":43,"column":0},"end":{"row":44,"column":0}},"nl":"\n","lines":[""]}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":42,"column":0},"end":{"row":43,"column":0}},"nl":"\n","lines":[""]}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":41,"column":5},"end":{"row":42,"column":0}},"text":"\n"}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":41,"column":5},"end":{"row":41,"column":5},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1415959769625}