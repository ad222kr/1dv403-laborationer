{"filter":false,"title":"MessageBoardX.js","tooltip":"/2-labbymezzage/js/MessageBoardX.js","undoManager":{"mark":10,"position":10,"stack":[[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"insert","lines":["f"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"remove","lines":["f"]},{"start":{"row":0,"column":0},"end":{"row":1,"column":16},"action":"insert","lines":["\"use strict\";","function Message"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":9},"end":{"row":1,"column":16},"action":"remove","lines":["Message"]},{"start":{"row":1,"column":9},"end":{"row":1,"column":10},"action":"insert","lines":["M"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":10},"end":{"row":1,"column":11},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":11},"end":{"row":1,"column":12},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":12},"end":{"row":1,"column":13},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":13},"end":{"row":1,"column":14},"action":"insert","lines":["a"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":9},"end":{"row":1,"column":14},"action":"remove","lines":["Messa"]},{"start":{"row":1,"column":9},"end":{"row":1,"column":21},"action":"insert","lines":["MessageBoard"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":21},"end":{"row":1,"column":22},"action":"insert","lines":["X"]}]}],[{"group":"doc","deltas":[{"start":{"row":1,"column":21},"end":{"row":1,"column":22},"action":"remove","lines":["X"]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":1,"column":21},"action":"remove","lines":["\"use strict\";","function MessageBoard"]},{"start":{"row":0,"column":0},"end":{"row":127,"column":0},"action":"insert","lines":["\"use strict\";","var MessageBoard = {","    ","    ","    messages: [],","    ","    init: function(){","        // Reference to button","        var button = document.getElementById(\"button\");","        var text = document.getElementById(\"textarea\");","        ","        // Add eventhandlers","        button.addEventListener(\"click\", MessageBoard.createMessage, false);","        text.addEventListener(\"keypress\", function (e) {","            if (e.keyCode == 13 && !e.shiftKey){","                e.preventDefault();","                MessageBoard.createMessage();","            }","        }, false);","    },","    ","    messageCount: function(){","        // Generates messagecounter","        var count = MessageBoard.messages.length;","        var div = document.getElementById(\"numberofmess\");","        var text = document.createElement(\"p\");","        ","        div.innerHTML = \"\";","        text.innerHTML = \"Antal meddelanden: \" + count;","        div.appendChild(text);","    },","    ","    createMessage: function(){","        // Creates messageobject from textareas value and date right now","        var input = document.getElementById(\"textarea\").value;","        var mess = new Message(input, new Date());","        ","        // Adds message to array and renders it","        MessageBoard.messages.push(mess);","        MessageBoard.renderMessage(MessageBoard.messages.length - 1);","        MessageBoard.messageCount();","        ","        // Resets textarea","        document.getElementById(\"form\").reset();","        return false;","    },","    ","    renderMessage: function(messageID){","        // Reference to div that holds all messages","        var div = document.getElementById(\"messages\");","        ","        // Creating elements for message, text, time and delete/timestamp buttons","        var messageDiv = document.createElement(\"div\");","        var buttonDiv = document.createElement(\"div\");","        var text = document.createElement(\"p\");","        var time = document.createElement(\"p\");","        var aClose = document.createElement(\"a\");","        var aTime = document.createElement(\"a\");","        var imgClose = document.createElement(\"img\");","        var imgTime = document.createElement(\"img\");","        ","        // Setting classnames and attributes","        buttonDiv.className = \"buttons\";","        messageDiv.className = \"message\";","        text.className = \"msgtext\";","        time.className = \"timestamp\";","        imgClose.className = \"delete\";","        imgTime.className = \"time\";","        aClose.setAttribute(\"href\", \"#\");","        aTime.setAttribute(\"href\", \"#\");","        imgClose.setAttribute(\"src\", \"img/Remove-icon.png\");","        imgTime.setAttribute(\"src\", \"img/clock.png\");","        ","        // Pushing elements to DOM","        div.appendChild(messageDiv);","        aClose.appendChild(imgClose);","        aTime.appendChild(imgTime);","        buttonDiv.appendChild(aClose);","        buttonDiv.appendChild(aTime);","        messageDiv.appendChild(buttonDiv);","        messageDiv.appendChild(text);","        messageDiv.appendChild(time);","        ","        // Rendering the message and time","        text.innerHTML = MessageBoard.messages[messageID].getHTMLtext();","        time.innerHTML = MessageBoard.messages[messageID].getDateText();","        ","        // Eventhandler for deleting a message on mouseclick","        imgClose.alt=\"Close\";","        imgClose.onclick = function () {","            MessageBoard.deleteMessage(messageID);","            MessageBoard.messageCount();","        };","        imgTime.alt=\"Time\";","        imgTime.onclick = function () {","            MessageBoard.showTimeStamp(messageID);   ","        };","    },","    ","    renderMessages: function(){","        // Resets messages element and renders all messages","        document.getElementById(\"messages\").innerHTML =\"\"; ","        ","        for(var i = 0; i < MessageBoard.messages.length; i++){","            MessageBoard.renderMessage(i);","        }","    },","    ","    deleteMessage: function(messageID){","        // Deletes one message, then renders all messag","        var result = window.confirm(\"Vill du verkligen ta bort meddelandet?\");","        if(result){","            MessageBoard.messages.splice(messageID, 1);","            MessageBoard.renderMessages();   ","        }","    },","    ","    showTimeStamp: function(messageID){","        alert(MessageBoard.messages[messageID].toString());    ","    }","};","","window.onload = MessageBoard.init;","","","","",""]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":52,"column":55},"end":{"row":52,"column":55},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1416831024529,"hash":"6f84b472111ce54a932bc6292106f4cf5af95a02"}